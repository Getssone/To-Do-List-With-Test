{% extends 'base.html.twig' %}

{% block title %}
	Creation d'une tache
{% endblock %}
{% block body %}
	<h1>Nouvelle Tache</h1>
	<div class="d-flex flex-row justify-content-center align-content-center w-100 p-4">
		{{ form_start(form, {'action' : path('new.task'),'attr': {'class': 'd-flex flex-column justify-content-center align-content-center w-50 p-4 border rounded shadow-sm'}}) }}
		{% for child in form %}
			{# Gestion spéciale pour le token CSRF #}
			{% if child.vars.name == '_token' %}
				{{ form_widget(child) }}
			{% else %}
				<div class="mb-3">

					{{ form_label(child, null, {'label_attr': {'class': 'form-label'}}) }}

					{# Gestion spéciale pour les cases à cocher #}
					{% if child.vars.block_prefixes[1] == 'checkbox' %}
						<div class="form-check">
							{{ form_widget(child, {'attr': {'class': 'form-check-input'}}) }}
						</div>
					{% else %}
						{{ form_widget(child, {'attr': {'class': 'form-control'}}) }}
					{% endif %}
					{{ form_errors(child) }}
				</div>
			{% endif %}
		{% endfor %}


		<button type="submit" class="btn btn-success pull-right w-100 p-4">Ajouter</button>
		{{ form_end(form) }}

	</div>
	<a href="{{ path('list.task') }}" class="btn btn-primary">Retour  à la liste des tâches</a>
{% endblock %}
