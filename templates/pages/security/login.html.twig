{% extends 'base.html.twig' %}


{% block title %}Connexion
{% endblock %}
{% block body %}

	<div class="flex justify-center items-center flex-wrap h-full g-6 text-gray-800 m-24">
		<div class="grow-0 shrink-1 md:shrink-0 basis-auto xl:w-6/12 lg:w-6/12 md:w-9/12 mb-12 md:mb-0"></div>
		<div class="d-flex justify-content-center gap-3 flex-wrap flex-md-nowrap">

			{% if app.user %}
				<div class=" w-50 p-4 border rounded shadow-sm">
					<div class="mb-3">
						Vous êtes connecté en tant que
						{{ app.user.userIdentifier }}
						<a class="homepage btn btn-success" href="/homepage">Page d'accueil</a>
					</div>
				</div>
			{% endif %}

			{% if not app.user %}
				<form name="login" action="{{ path('login') }}" method="post" class=" w-70 p-4 border rounded shadow-sm">
					<h2 class="text-center mb-4">Connexion</h2>
					{% if error %}
						<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
					{% endif %}


					<label for="username">Email</label>
					<input type="email" value="{{ last_username }}" name="_username" id="username" class="form-control" autocomplete="email" placeholder="Adresse email" required autofocus>
					<label for="password">Mot de passe</label>
					<input type="password" name="_password" id="password" class="form-control" autocomplete="current-password" required>

					<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

					<button type="submit" class="btn btn-primary w-100">Connexion</button>
				</form>

			{% endif %}
		</div>
	</div>
{% endblock %}
