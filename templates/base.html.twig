<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>
			{% block title %}To Do List app!
			{% endblock %}
		</title>
		<!-- Bootstrap Core CSS -->
		<link class="CDNBootstrap" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
		<!-- Custom CSS -->
		<link href="{{ asset('css/shop-homepage.css') }}" rel="stylesheet">
		<link rel="icon" type="image/png" href="{{ asset('img/LogoCertifiedMedie.svg') }}" id="favicon" data-original-href="/assets/favicon-72a2cad5025aa931d6ea56c3201d1f18e68a8cd39788c7c80d5b2b82aa5143ef.png"> {% block stylesheets %}{% endblock %}

		{% block javascripts %}
			{% block importmap %}
				{{ importmap('app') }}
			{% endblock %}
		{% endblock %}
	</head>
	<body>
		<!-- Début du corps de la page -->
		<nav class="navbar bg-dark navbar-dark navbar-fixed-top flex-nowrap" role="navigation">
			<div class="container">
				<div class="d-flex flex-row flex-wrap navbar-header justify-content-around w-100">
					<a class="navbar-brand" href="/#">To Do List app</a>
					{% if not app.user and ('register' is not same as(app.request.attributes.get('_route')) and 'index' is not same as(app.request.attributes.get('_route'))) %}
						<a href='/register' class="register btn btn-outline-secondary">Créer un utilisateur</a>
					{% endif %}
					{% if app.user %}
						<a href="/logout" class="userLogout pull-right btn-outline-secondary">Se déconnecter</a>
					{% endif %}

					{% if not app.user and 'login' != app.request.attributes.get('_route') %}

						<a href={{ path('login') }} class="userLogin btn btn-outline-secondary">Se connecter</a>
					{% endif %}
				</div>
			</div>
		</nav>

		<!-- Page Content -->
		<div class="container">
			<div class="d-flex flex-row justify-content-around align-items-center w-100">
				{% block header_img %}
					<img class="todoListIcon" src="{{ asset('img/todolist_homepage.png') }}" alt="todo list">
					{% for flash_message in app.session.flashBag.get('success') %}
						<div class="alert alert-success alert-dismissible fade show" role="alert">
							<strong class="message-title">Superbe !</strong>
							<p class="message-success">
								{{ flash_message }}
							</p>
							<button type="button " class="btn-close btn btn-success" data-bs-dismiss="alert" aria-label="Close"></button>
						</div>
					{% endfor %}

					{% for flash_message in app.session.flashBag.get('error') %}
						<div class="alert alert-danger alert-dismissible fade show" role="alert">
							<strong class="message-title">Oops !</strong>
							<p class="message-danger">
								{{ flash_message }}
							</p>
							<button type="button " class="btn-close btn btn-danger" data-bs-dismiss="alert" aria-label="Close"></button>
						</div>
					{% endfor %}

					{% block header_title %}{% endblock %}
				{% endblock %}
			</div>

			<br/>

			<div class="row">
				<div class="col-md-12 d-flex flex-column align-items-center"> {% block body %}{% endblock %}
					</div>
				</div>
			</div>
			<!-- /.container -->

			<div class="container">
				<hr>
				<footer>
					<div class="col-lg-12">
						<div class="d-flex justify-content-center align-items-center gap-3">
							<p class="pull-right">Copyright &copy; Getssone</p>
							<img src="{{ asset('img/LogoCertifiedMedie.svg') }}" alt="Created By Getssone"/>
						</div>
					</div>
				</footer>
			</div>

			<script src="{{ asset('js/jquery.js') }}"></script>
			<script src="{{ asset('js/bootstrap.min.js') }}"></script>
			<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
			<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
		</body>
		<!-- Fin du corps de la page -->
	</html>
